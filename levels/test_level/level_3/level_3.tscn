[gd_scene load_steps=20 format=3 uid="uid://bdueg8p13eu2h"]

[ext_resource type="Script" path="res://levels/test_level/level_3/level_3.gd" id="1_m4mpk"]
[ext_resource type="PackedScene" uid="uid://b25ooshew3q2v" path="res://player/player.tscn" id="2_3hm2h"]
[ext_resource type="Script" path="res://levels/test_level/level_3/picture_handler_3.gd" id="3_kernw"]
[ext_resource type="Script" path="res://levels/test_level/level_3/picture_3.gd" id="4_8im1j"]
[ext_resource type="Texture2D" uid="uid://c2ayxv7icdhpe" path="res://levels/test_level/textures/checkerboard.png" id="5_bd1kw"]
[ext_resource type="Texture2D" uid="uid://ds3t06uf70r2f" path="res://levels/test_level/textures/alternative.png" id="6_prj7r"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_wi2ob"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_olqo2"]
sky_material = SubResource("ProceduralSkyMaterial_wi2ob")

[sub_resource type="Environment" id="Environment_5oly5"]
background_mode = 2
sky = SubResource("Sky_olqo2")
tonemap_mode = 2

[sub_resource type="ViewportTexture" id="ViewportTexture_li7kw"]
viewport_path = NodePath("Pictures/1/SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_isucw"]
resource_local_to_scene = true
shading_mode = 0
albedo_texture = SubResource("ViewportTexture_li7kw")

[sub_resource type="QuadMesh" id="QuadMesh_2eclo"]
resource_local_to_scene = true
material = SubResource("StandardMaterial3D_isucw")
size = Vector2(0.8, 0.45)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7gkht"]
albedo_texture = ExtResource("5_bd1kw")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fbmlc"]
albedo_color = Color(0.808049, 0.723459, 0.285667, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gb20o"]
albedo_color = Color(0.912985, 0.414904, 0.327808, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mb7k7"]
albedo_color = Color(0.971994, 0.653016, 0.340998, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vgnp6"]
albedo_texture = ExtResource("6_prj7r")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yleyx"]
albedo_color = Color(0.067273, 0.302493, 0.149043, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k3384"]
albedo_color = Color(0.277017, 0.359995, 0.851506, 1)

[node name="Level" type="Node3D"]
script = ExtResource("1_m4mpk")

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5oly5")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("2_3hm2h")]

[node name="Pictures" type="Node" parent="." node_paths=PackedStringArray("pictures")]
script = ExtResource("3_kernw")
pictures = [NodePath("1/Picture")]

[node name="1" type="Node" parent="Pictures"]

[node name="Picture" type="MeshInstance3D" parent="Pictures/1" node_paths=PackedStringArray("camera")]
layers = 512
mesh = SubResource("QuadMesh_2eclo")
skeleton = NodePath("../SubViewport")
script = ExtResource("4_8im1j")
camera = NodePath("../SubViewport/PortalCamera")
world_offset = Vector3(200, 0, 0)

[node name="SubViewport" type="SubViewport" parent="Pictures/1"]
size = Vector2i(1280, 720)

[node name="PortalCamera" type="Camera3D" parent="Pictures/1/SubViewport"]
transform = Transform3D(0.928486, 0, 0.371368, 0, 1, 0, -0.371368, 0, 0.928486, 202.745, 1.75, -6.101)
cull_mask = 1048063

[node name="BeforeWorld" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
size = Vector3(100, 2, 100)
material = SubResource("StandardMaterial3D_7gkht")

[node name="Floor2" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.032, -0.333, -4.825)
size = Vector3(61.21, 0.86, 60.788)
material = SubResource("StandardMaterial3D_fbmlc")

[node name="Wall2" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.35998, 2, -14.9737)
use_collision = true
size = Vector3(10.9242, 4, 1.23975)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall4" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(0.999796, 0, -0.0201921, 0, 1, 0, 0.0201921, 0, 0.999796, -0.0384645, 2, -20.529)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall3" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.31966, 1.96338, -14.9696)
use_collision = true
size = Vector3(10.9324, 4.07324, 1.15576)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -10)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_gb20o")

[node name="CSGBox3D2" type="CSGBox3D" parent="BeforeWorld/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.412496, 0)
operation = 2
size = Vector3(2, 3, 1)

[node name="Door" type="CSGBox3D" parent="BeforeWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.59414, -10)
use_collision = true
size = Vector3(1.97, 2.97, 0.5)
material = SubResource("StandardMaterial3D_mb7k7")

[node name="AfterWorld" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 200, 0, 0)

[node name="Floor2" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
size = Vector3(100, 2, 100)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor7" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.274658, 26.8399, -8.22581)
use_collision = true
size = Vector3(31.2319, 2, 31.9983)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor3" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -10.5057, 15.4597, -6.7594)
use_collision = true
size = Vector3(34.2407, 2, 36.303)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor4" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 9.43494, 15.4434, -7.8934)
use_collision = true
size = Vector3(34.208, 2, 36.5053)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor5" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(1.91069e-15, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, 0.830612, 15.9399, -22.7562)
use_collision = true
size = Vector3(35.2012, 2, 35.4424)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor6" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(1.91069e-15, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, 0.0355072, 15.8547, 6.27882)
use_collision = true
size = Vector3(35.0308, 2, 30.7805)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor" type="CSGBox3D" parent="AfterWorld"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.431732, -0.33323, -8.07701)
size = Vector3(30, 0.866, 30)
material = SubResource("StandardMaterial3D_yleyx")

[node name="House" type="Node3D" parent="AfterWorld"]

[node name="Wall2" type="CSGBox3D" parent="AfterWorld/House"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.35998, 2, -14.9737)
use_collision = true
size = Vector3(10.9242, 4, 1.23975)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall4" type="CSGBox3D" parent="AfterWorld/House"]
transform = Transform3D(0.999796, 0, -0.0201921, 0, 1, 0, 0.0201921, 0, 0.999796, -0.0384645, 2, -20.529)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall3" type="CSGBox3D" parent="AfterWorld/House"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.31966, 1.96338, -14.9696)
use_collision = true
size = Vector3(10.9324, 4.07324, 1.15576)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall" type="CSGBox3D" parent="AfterWorld/House"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -10)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_k3384")

[node name="CSGBox3D2" type="CSGBox3D" parent="AfterWorld/House/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.412496, 0)
operation = 2
size = Vector3(2, 3, 1)

[node name="Door" type="CSGBox3D" parent="AfterWorld/House"]
transform = Transform3D(0.662267, 0, -0.749268, 0, 1, 0, 0.749268, 0, 0.662267, -0.136063, 1.59414, -8.68383)
use_collision = true
size = Vector3(1.97, 2.97, 0.5)
material = SubResource("StandardMaterial3D_mb7k7")

[editable path="Player"]
