[gd_scene load_steps=18 format=3 uid="uid://b8eqrxib730oq"]

[ext_resource type="Script" path="res://levels/test_level/level_4/level_4.gd" id="1_nq8eo"]
[ext_resource type="PackedScene" uid="uid://b25ooshew3q2v" path="res://player/player.tscn" id="2_7t85d"]
[ext_resource type="Script" path="res://levels/test_level/level_4/picture_handler_4.gd" id="3_d0ggc"]
[ext_resource type="Script" path="res://levels/test_level/level_4/picture_4.gd" id="4_h8cxm"]
[ext_resource type="Texture2D" uid="uid://c2ayxv7icdhpe" path="res://levels/test_level/textures/checkerboard.png" id="5_1npk3"]
[ext_resource type="Texture2D" uid="uid://ds3t06uf70r2f" path="res://levels/test_level/textures/alternative.png" id="6_nm18n"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_wi2ob"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_olqo2"]
sky_material = SubResource("ProceduralSkyMaterial_wi2ob")

[sub_resource type="Environment" id="Environment_5oly5"]
background_mode = 2
sky = SubResource("Sky_olqo2")
tonemap_mode = 2

[sub_resource type="ViewportTexture" id="ViewportTexture_4p7wk"]
viewport_path = NodePath("Pictures/1/SubViewport")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_7gkht"]
albedo_texture = ExtResource("5_1npk3")
uv1_triplanar = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fbmlc"]
albedo_color = Color(0.808049, 0.723459, 0.285667, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gb20o"]
albedo_color = Color(0.912985, 0.414904, 0.327808, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_mb7k7"]
albedo_color = Color(0.971994, 0.653016, 0.340998, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yleyx"]
albedo_color = Color(0.067273, 0.302493, 0.149043, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_k3384"]
albedo_color = Color(0.277017, 0.359995, 0.851506, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vgnp6"]
albedo_texture = ExtResource("6_nm18n")
uv1_triplanar = true

[node name="Level" type="Node3D"]
script = ExtResource("1_nq8eo")

[node name="BlackBars" type="ColorRect" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_5oly5")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 0, 0)
shadow_enabled = true

[node name="Player" parent="." instance=ExtResource("2_7t85d")]

[node name="Pictures" type="Node" parent="." node_paths=PackedStringArray("pictures")]
script = ExtResource("3_d0ggc")
pictures = [NodePath("1/Picture")]

[node name="1" type="Node" parent="Pictures"]

[node name="Picture" type="TextureRect" parent="Pictures/1" node_paths=PackedStringArray("camera", "world")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 320.0
offset_top = 570.0
offset_right = 320.0
offset_bottom = 570.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.5, 0.5)
texture = SubResource("ViewportTexture_4p7wk")
script = ExtResource("4_h8cxm")
camera = NodePath("../SubViewport/PortalCamera")
world = NodePath("../../../World1")

[node name="SubViewport" type="SubViewport" parent="Pictures/1"]
size = Vector2i(1280, 720)

[node name="PortalCamera" type="Camera3D" parent="Pictures/1/SubViewport"]
transform = Transform3D(0.928486, 0, 0.371368, 0, 1, 0, -0.371368, 0, 0.928486, 202.745, 1.75, -6.101)
cull_mask = 1048063

[node name="BlackBars2" type="ColorRect" parent="."]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Present" type="Node3D" parent="."]

[node name="Floor" type="CSGBox3D" parent="Present"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
size = Vector3(100, 2, 100)
material = SubResource("StandardMaterial3D_7gkht")

[node name="Floor2" type="CSGBox3D" parent="Present"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.032, -0.333, -4.825)
size = Vector3(61.21, 0.86, 60.788)
material = SubResource("StandardMaterial3D_fbmlc")

[node name="Wall2" type="CSGBox3D" parent="Present"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.35998, 2, -14.9737)
use_collision = true
size = Vector3(10.9242, 4, 1.23975)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall4" type="CSGBox3D" parent="Present"]
transform = Transform3D(0.999796, 0, -0.0201921, 0, 1, 0, 0.0201921, 0, 0.999796, -0.0384645, 2, -20.529)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall3" type="CSGBox3D" parent="Present"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.31966, 1.96338, -14.9696)
use_collision = true
size = Vector3(10.9324, 4.07324, 1.15576)
material = SubResource("StandardMaterial3D_gb20o")

[node name="Wall" type="CSGBox3D" parent="Present"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -10)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_gb20o")

[node name="CSGBox3D2" type="CSGBox3D" parent="Present/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.412496, 0)
operation = 2
size = Vector3(2, 3, 1)

[node name="Door" type="CSGBox3D" parent="Present"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.59414, -10)
use_collision = true
size = Vector3(1.97, 2.97, 0.5)
material = SubResource("StandardMaterial3D_mb7k7")

[node name="World1" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 200, 0, 0)

[node name="Floor" type="CSGBox3D" parent="World1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.431732, -0.33323, -8.07701)
size = Vector3(30, 0.866, 30)
material = SubResource("StandardMaterial3D_yleyx")

[node name="House" type="Node3D" parent="World1"]

[node name="Wall2" type="CSGBox3D" parent="World1/House"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 4.35998, 2, -14.9737)
use_collision = true
size = Vector3(10.9242, 4, 1.23975)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall4" type="CSGBox3D" parent="World1/House"]
transform = Transform3D(0.999796, 0, -0.0201921, 0, 1, 0, 0.0201921, 0, 0.999796, -0.0384645, 2, -20.529)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall3" type="CSGBox3D" parent="World1/House"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -4.31966, 1.96338, -14.9696)
use_collision = true
size = Vector3(10.9324, 4.07324, 1.15576)
material = SubResource("StandardMaterial3D_k3384")

[node name="Wall" type="CSGBox3D" parent="World1/House"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -10)
use_collision = true
size = Vector3(10, 4, 1)
material = SubResource("StandardMaterial3D_k3384")

[node name="CSGBox3D2" type="CSGBox3D" parent="World1/House/Wall"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.412496, 0)
operation = 2
size = Vector3(2, 3, 1)

[node name="Door" type="CSGBox3D" parent="World1/House"]
transform = Transform3D(0.662267, 0, -0.749268, 0, 1, 0, 0.749268, 0, 0.662267, -0.136063, 1.59414, -8.68383)
use_collision = true
size = Vector3(1.97, 2.97, 0.5)
material = SubResource("StandardMaterial3D_mb7k7")

[node name="Borders" type="Node3D" parent="World1"]

[node name="Floor2" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1, 0)
use_collision = true
size = Vector3(100, 2, 100)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor7" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.274658, 26.8399, -8.22581)
use_collision = true
size = Vector3(31.2319, 2, 31.9983)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor3" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, -10.5057, 15.4597, -6.7594)
use_collision = true
size = Vector3(34.2407, 2, 36.303)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor4" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(-4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0, 1, 9.43494, 15.4434, -7.8934)
use_collision = true
size = Vector3(34.208, 2, 36.5053)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor5" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(1.91069e-15, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, 0.830612, 15.9399, -22.7562)
use_collision = true
size = Vector3(35.2012, 2, 35.4424)
material = SubResource("StandardMaterial3D_vgnp6")

[node name="Floor6" type="CSGBox3D" parent="World1/Borders"]
transform = Transform3D(1.91069e-15, 4.37114e-08, 1, 1, -4.37114e-08, 0, 4.37114e-08, 1, -4.37114e-08, 0.0355072, 15.8547, 6.27882)
use_collision = true
size = Vector3(35.0308, 2, 30.7805)
material = SubResource("StandardMaterial3D_vgnp6")

[editable path="Player"]
